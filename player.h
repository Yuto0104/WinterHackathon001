//=============================================================================
//
// プレイヤークラス(player.h)
// Author : 唐﨑結斗
// 概要 : プレイヤー生成を行う
//
//=============================================================================
#ifndef _PLAYER_H_			// このマクロ定義がされてなかったら
#define _PLAYER_H_			// 二重インクルード防止のマクロ定義

//*****************************************************************************
// インクルード
//*****************************************************************************
#include "model_obj.h"

//*****************************************************************************
// 前方宣言
//*****************************************************************************
class CMove;
class CModel3D;

//=============================================================================
// プレイヤークラス
// Author : 唐﨑結斗
// 概要 : プレイヤー生成を行うクラス
//=============================================================================
class CPlayer : public CModelObj
{
public:
	//--------------------------------------------------------------------
	// 静的メンバ関数
	//--------------------------------------------------------------------
	static CPlayer *Create();			// プレイヤーの生成

	//--------------------------------------------------------------------
	// コンストラクタとデストラクタ
	//--------------------------------------------------------------------
	CPlayer();
	~CPlayer();

	//--------------------------------------------------------------------
	// メンバ関数
	//--------------------------------------------------------------------
	HRESULT Init() override;										// 初期化
	void Uninit() override;											// 終了
	void Update() override;											// 更新
	void Draw() override;											// 描画
	void SetSpeed(const float fSpeed) { m_fSpeed = fSpeed; }		// 移動速度の設定
	void SetRot(const D3DXVECTOR3 &rot) override;					// 向きのセッター
	
private:
	//--------------------------------------------------------------------
	// メンバ関数
	//--------------------------------------------------------------------
	D3DXVECTOR3 Move();		// 移動
	void Rotate();			// 回転
	void Mash();			// 連打
	void Distance();		// 距離を測る

	//--------------------------------------------------------------------
	// メンバ変数
	//--------------------------------------------------------------------
	CMove				*m_pMove;				// 移動情報
	D3DXVECTOR3			m_move;					// 移動ベクトル
	D3DXVECTOR3			m_rotDest;				// 目的の向き
	float				m_fSpeed;				// 移動速度	
	int					m_MashCount;			// 連打数
	bool				m_Rotate;				// 回転するかしないか
};

#endif

